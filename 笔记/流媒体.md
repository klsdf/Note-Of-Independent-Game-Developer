# 基础知识考点

## 四大流媒体公司及其流格式

Windows Media (Microsoft微软公司）    ASF、WMV、WMA

RealSystem( Real Networks公司）      RM、RA、RP、RT

QuickTime（Apple公司）         MOV、QT

Adobe Flash（Adobe公司）         SWF、FLV

## 流程图

***\*要求根据流程图详细描述出来\****

```mermaid
graph 
  A[Web Browser]--Meta file-->B[A/V Player]
  C[A/V Server]--控制信息UDP-->B
  D[Web Server]--HTTP/TCP-->A
  D[Web Server]--定位-->C
  
```

流媒体传输流程：在流式传输的实现方案中，一般采用HTTP/TCP来传输控制信息，而用RTP/UDP来传输实时声音数据。具体的传输流程如下：

1. Web浏览器与Web服务器之间使用HTTP/TCP交换控制信息，以便把需要传输的实时数据从原始信息中检索出来。
2. 用HTTP从Web服务器检索相关数据，由A/V播放器进行初始化。
3. 从Web服务器检索出来的相关服务器的地址定位A/V服务器。
4. A/V播放器与A/V服务器之间交换A/V传输所需要的实时控制协议。
5. 一旦A/V数据抵达客户端，A/V播放器就可播放。



## 什么是流媒体

将视音频文件经过压缩处理后，放在网络服务器上进行分段（分为多个数据包）的传输，客户端计算机不用将整个的视音频文件下载到本地，便可以即时收听和收看。

这个过程的一系列相关的**包**称为“流”。流媒体实际是一种新的媒体传送方式，而非一种新的媒体。

## 流式传输方式

- 实时流式传输

  使用特殊的协议，如TRSP

  使用专用的流媒体服务器

  特别适合现场事件

  也支持随机访问，用户可快进或后退以观看前面或后面的内容。

  发生网络拥塞时，视频质量较差

- 顺序流式传输

  不需要特殊的网络协议，因此被叫做HTTP流式传输

  适合高质量短片，不适合长片段和随机访问

  是一种点播技术

  

  

  



## 流媒体的三个方面

- 服务器
- 编码器
- 播放器

三者缺一不可。

## 单播、多播、点播和广播

***单播***和**多播**是指客户端从媒体服务器收数据包的两种方式

***点播***和***\*广播\****是用来描述客户端与服务器之间的关系的

- 单播

  建立P2P通道，

  所以只有当客户端发出请求时，媒体服务器才向客户端发送数据。

  会占用很大的带宽，因此客户端有数量限制
  
- 多播

  服务器发送**一组**数据,组内各个成员共享,具体由路由器来分发
  
  内网的路由器需要支持多播技术
  
- 点播
  
  客户端主动请求
  
  支持用户快进,等操作
  
  点播是通过单播接收数据的,
  
  
  
- 广播
  
  客户端被动接受



## 流媒体实现技术

***\*四种典型的流媒体应用方案\****

1. RealSystem

2. Windows Media Technology

3. QuickTime
4. Adobe Flash



## ASF（Advanced Streaming Format）

ASF是一种数据格式，可将音频、视频、图像以及控制命令脚本等多种信息以网络数据包的形式传输，实现流式多媒体内容发布。



**头对象**（Header Object）、**数据对象**(Data Object)和**索引对象**(Index Object).

头对象是必需的并且必须放在每一个ASF文件的开头部分，数据对象也是必需的，且一般情况下紧跟在头对象之后。

# 流媒体编码与解码

## mpeg4：

- 高压缩比(低码率)适用于网络传输
  面向对象的压缩方式有利交互式应用
  MPEG4高清电视方面性能不如MPEG2
  算法不固定，各厂商都可以开发自己的兼容算法。



要注意！mpeg4并不是pm4！

mpeg4是一种编码解码器，它也可以解析mp4.真正的mp4叫做H.264同时也是[MPEG-4](https://baike.baidu.com/item/MPEG-4)第十部分，



## 传统C/S模式存在的问题及解决

• 服务器单一

• 带宽占用大

• 服务器处理能力要求高

• 成本高



解决问题的思路：去中心化；可扩展；健壮性；高性价比；隐私保护；负载均衡

# 流媒体传输考点





浏览器采用MIME识别各种不同的简单文件格式



# RealText考点

优点：

- 语法简单
- 向下兼容性好
- 性能好，只需要一个进程加载资源
- 会缓存资源



文件拓展名为rt



# Windows media server考点

## Windows Media Server中的分发

（1）服务器到服务器的分发。当服务器上的发布点充当另一个Windows Media服务器上的发布点的内容源时，进行的是这种分发，而后一发布点再将内容传输给发出请求的播放机

（2）推分发。当编码器主动发起广播时进行的是这种分发；此后编码器通过Windows Media 服务器上的发布点将内容传输给发出请求的播放机。 

（3）拉分发。当服务器主动与编码器连接以接收内容流时进行的是这种分发；此后服务器将内容分发给发出请求的播放机。

推流：由编码器主动向服务器请求资源，推传递用于指明流的传输是由编码器启动和管理的。

拉传递：由服务器向编码器发送资源，拉传递用于指明流的传输是由请求服务器发起和管理的。

## 默认端口

==Windows Media Server默认使用TCP和UDP的1755端口。==

# 移动流媒体考点

- 视频压缩比：一般指压缩后的数据量与压缩前的数据量之比。

- 无损压缩：压缩前和解压缩后的数据完全一致。多数的无损压缩都采用==RLE==行程编码算法。

- 对称性:是压缩编码的一个关键特征。**对称意味着压缩和解压缩占用相同的计算处理能力和时间**，对称算法适合于实时压缩和传送视频，如**视频会议**应用就以采用对称的压缩编码算法为好。

- 非对称:

  

# 例题

***\*例题：\****１、ＶＯＤ视频点播适合采用多播方式吗？

答：ＶＯＤ视频点播适合采用单播的方式。因为点播时特定一组内的用户的需求是各不相同的

　		２、视频直播适合采用哪种方式？

　		答：采用多播方式更好。



